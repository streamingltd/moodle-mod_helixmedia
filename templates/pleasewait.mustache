{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_helixmedia/launcher

    Performs a MEDIAL LTI Launch

    Example context (json):
    {"size": 100, "text": "Please wait", "hideimage": true}
}}
<div style='font-family: Nunito, sans-serif'>
    <div style='text-align:center;'>
        {{^hideimage}}<img id='helixmedia_pleasewait' style='display:none;' alt='' loading="eager"
            src="{{globals.config.wwwroot}}/mod/helixmedia/img/spinner.png">{{/hideimage}}
    </div>
    <div id='helixmedia_text' style='display:none;text-align:center;width:100%;padding-top:10px;'>
    {{#text}}<h3>{{text}}</h3>{{/text}}
    </div>
</div>
<script>
    //<![CDATA[
    var headers = document.getElementsByClassName('activity-header');
    for (let i = 0; i < headers.length; i++) {
        headers[i].style.display = 'none';
    }

    var pl = document.getElementById('helixmedia_pleasewait');
    if (pl) {
        var size = window.innerHeight * 0.8;
        if (size > 128) {
            size = 128;
        }

        pl.style.width = size+'px';
        pl.style.height = size+'px';
        pl.style.display = 'inline';
    }

    if (window.innerHeight > 150) {
        document.getElementById('helixmedia_text').style.display = 'block';
    }
    //]]>
</script>
